{% extends 'main/home.html' %}

{% block title %}All Posts {% endblock %}

{% block content %}
<div class="pt-5">
    <h2 class="text-center text-uppercase fw-bold fs-1 text-success">All posts</h2>
    {% for post in posts %}
    <div class="card mt-4 shadow">
        <div class="card-header  d-flex flex-row justify-content-between ">
            <h5 class="card-title">{{ post.title }}</h5>
            {% if request.user == post.author %}
            <div>
                <a href="{% url 'editpost' post.id %}">edit</a>
                <a href="{% url 'deletepost' post.id %}">delete</a>
            </div>
            {% endif %}
        </div>
        <div class="card-body d-flex flex-row justify-content-between ">
            <div>
                <p>
                    {{ post.post }}
                </p>
            </div>
        </div>
        <div class="card-footer text-muted">
            {% if post.created_at == post.updated_at %}
            <i class="text-center">{{ post.author }}</i>
            <span class="text-right mx-5">Created at {{ post.created_at }}</span>
            {% else %}
            Edited at {{ post.updated_at }} <span class="mr-0">{{ post.author }}</span>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
</div>
{% endblock %}